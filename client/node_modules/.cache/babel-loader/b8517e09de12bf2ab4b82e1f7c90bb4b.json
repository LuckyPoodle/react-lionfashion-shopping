{"ast":null,"code":"import ShopActionTypes from './shop.types';\nimport { firestore, convertCollectionsSnapshotToMap } from '../../firebase/fire.util';\n/* export const updateCollections=(collectionMap)=>({\r\n    type:ShopActionTypes.UPDATE_COLLECTIONS,\r\n    payload:collectionMap\r\n})\r\n */\n\nexport const fetchCollectionsStart = () => ({\n  type: ShopActionTypes.FETCH_COLLECTIONS_START\n});\nexport const fetchCollectionsSuccess = collectionMap => ({\n  type: ShopActionTypes.FETCH_COLLECTIONS_SUCCESS,\n  payload: collectionMap\n});\nexport const fetchCollectionsFailure = error => ({\n  type: ShopActionTypes.FETCH_COLLECTIONS_FAILURE,\n  payload: error\n});\nexport const fetchCollectionsStartAync = () => {\n  //returning a function\n  return dispatch => {\n    const collectionRef = firestore.collection('collections');\n    dispatch(fetchCollectionsStart()); //isFetching now True\n\n    collectionRef.get().then(snapshot => {\n      console.log(\"on Snapshot\");\n      const collectionsMap = convertCollectionsSnapshotToMap(snapshot);\n      dispatch(fetchCollectionsSuccess(collectionsMap));\n    }).catch(err => dispatch(fetchCollectionsFailure(err.message)));\n  };\n};","map":{"version":3,"sources":["C:/Users/ruiqu/myJavascript/lionfashion/src/redux/shop/shop.actions.js"],"names":["ShopActionTypes","firestore","convertCollectionsSnapshotToMap","fetchCollectionsStart","type","FETCH_COLLECTIONS_START","fetchCollectionsSuccess","collectionMap","FETCH_COLLECTIONS_SUCCESS","payload","fetchCollectionsFailure","error","FETCH_COLLECTIONS_FAILURE","fetchCollectionsStartAync","dispatch","collectionRef","collection","get","then","snapshot","console","log","collectionsMap","catch","err","message"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,cAA5B;AACA,SAASC,SAAT,EAAmBC,+BAAnB,QAAyD,0BAAzD;AAIA;;;;;;AAMA,OAAO,MAAMC,qBAAqB,GAAC,OAAK;AACpCC,EAAAA,IAAI,EAACJ,eAAe,CAACK;AADe,CAAL,CAA5B;AAIP,OAAO,MAAMC,uBAAuB,GAAEC,aAAD,KAAkB;AACnDH,EAAAA,IAAI,EAACJ,eAAe,CAACQ,yBAD8B;AAEnDC,EAAAA,OAAO,EAACF;AAF2C,CAAlB,CAA9B;AAKP,OAAO,MAAMG,uBAAuB,GAAEC,KAAD,KAAU;AAC3CP,EAAAA,IAAI,EAACJ,eAAe,CAACY,yBADsB;AAE3CH,EAAAA,OAAO,EAACE;AAFmC,CAAV,CAA9B;AAQP,OAAO,MAAME,yBAAyB,GAAG,MAAI;AACzC;AACA,SAAOC,QAAQ,IAAE;AACb,UAAMC,aAAa,GAACd,SAAS,CAACe,UAAV,CAAqB,aAArB,CAApB;AACAF,IAAAA,QAAQ,CAACX,qBAAqB,EAAtB,CAAR,CAFa,CAGb;;AACAY,IAAAA,aAAa,CAACE,GAAd,GAAoBC,IAApB,CAAyBC,QAAQ,IAAE;AAC/BC,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA,YAAMC,cAAc,GAACpB,+BAA+B,CAACiB,QAAD,CAApD;AAEAL,MAAAA,QAAQ,CAACR,uBAAuB,CAACgB,cAAD,CAAxB,CAAR;AAEH,KAND,EAMGC,KANH,CAMSC,GAAG,IAAEV,QAAQ,CAACJ,uBAAuB,CAACc,GAAG,CAACC,OAAL,CAAxB,CANtB;AAOH,GAXD;AAYH,CAdM","sourcesContent":["import ShopActionTypes from './shop.types';\r\nimport { firestore,convertCollectionsSnapshotToMap} from '../../firebase/fire.util';\r\n\r\n\r\n\r\n/* export const updateCollections=(collectionMap)=>({\r\n    type:ShopActionTypes.UPDATE_COLLECTIONS,\r\n    payload:collectionMap\r\n})\r\n */\r\n\r\nexport const fetchCollectionsStart=()=>({\r\n    type:ShopActionTypes.FETCH_COLLECTIONS_START\r\n});\r\n\r\nexport const fetchCollectionsSuccess=(collectionMap)=>({\r\n    type:ShopActionTypes.FETCH_COLLECTIONS_SUCCESS,\r\n    payload:collectionMap\r\n});\r\n\r\nexport const fetchCollectionsFailure=(error)=>({\r\n    type:ShopActionTypes.FETCH_COLLECTIONS_FAILURE,\r\n    payload:error\r\n});\r\n\r\n\r\n\r\n\r\nexport const fetchCollectionsStartAync = ()=>{\r\n    //returning a function\r\n    return dispatch=>{\r\n        const collectionRef=firestore.collection('collections');\r\n        dispatch(fetchCollectionsStart());\r\n        //isFetching now True\r\n        collectionRef.get().then(snapshot=>{\r\n            console.log(\"on Snapshot\")\r\n            const collectionsMap=convertCollectionsSnapshotToMap(snapshot);\r\n           \r\n            dispatch(fetchCollectionsSuccess(collectionsMap));\r\n           \r\n        }).catch(err=>dispatch(fetchCollectionsFailure(err.message)))\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}